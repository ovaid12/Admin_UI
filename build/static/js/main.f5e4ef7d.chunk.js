(this.webpackJsonpreact=this.webpackJsonpreact||[]).push([[0],{16:function(e,t,n){},20:function(e,t,n){},21:function(e,t,n){},22:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n(10),i=n.n(r),a=(n(16),n(8)),j=n(3),l=n(2),u=n(5),o=(n(17),n(0));function s(e){var t=e.total,n=void 0===t?0:t,r=e.itemPerPage,i=void 0===r?10:r,a=e.currentPage,j=void 0===a?1:a,s=e.onPageChange,d=Object(c.useState)(0),b=Object(l.a)(d,2),h=b[0],O=b[1];Object(c.useEffect)((function(){n>0&&i>0&&O(Math.ceil(n/i))}),[n,i]);var x=Object(c.useMemo)((function(){for(var e=[],t=function(t){e.push(Object(o.jsx)(u.a.Item,{active:t===j,onClick:function(){return s(t)},children:t},t))},n=1;n<=h;n++)t(n);return e}),[h,j]);return 0===h?null:Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)(u.a,{children:[Object(o.jsx)(u.a.Prev,{onClick:function(){return s(j-1)},disabled:1===j}),x,Object(o.jsx)(u.a.Next,{onClick:function(){return s(j+1)},disabled:j===h})]})})}n(20);function d(e){var t=e.onSearch,n=Object(c.useState)(""),r=Object(l.a)(n,2),i=r[0],a=r[1];return Object(o.jsx)("div",{children:Object(o.jsx)("input",{className:"search",type:"text",placeholder:"Search for name",value:i,onChange:function(e){return n=e.target.value,a(n),void t(n);var n}})})}n(21);function b(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(""),u=Object(l.a)(i,2),b=u[0],h=u[1],O=Object(c.useState)(0),x=Object(l.a)(O,2),m=x[0],f=x[1],p=Object(c.useState)(1),v=Object(l.a)(p,2),g=v[0],C=v[1];Object(c.useEffect)((function(){fetch("https://geektrust.s3-ap-southeast-1.amazonaws.com/adminui-problem/members.json").then((function(e){return e.json()})).then((function(e){r(e.map((function(e){return{select:!1,id:e.id,name:e.name,email:e.email,role:e.role}})))}))}),[]);var k=Object(c.useMemo)((function(){var e=n;return b&&(e=e.filter((function(e){return e.name.toLowerCase().includes(b.toLowerCase())}))),f(e.length),e.slice(10*(g-1),10*(g-1)+10)}),[n,g,b]),S=Object(c.useState)(""),y=Object(l.a)(S,2),P=y[0],q=y[1],N=Object(c.useState)({name:"",email:"",role:""}),w=Object(l.a)(N,2),A=w[0],D=w[1],E=function(e){e.preventDefault();var t=e.target.getAttribute("name"),n=e.target.value,c=Object(j.a)({},A);c[t]=n,D(c)},I=function(){q("")};return Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{children:Object(o.jsx)("h2",{children:"Admin UI"})}),Object(o.jsx)(d,{onSearch:function(e){h(e),C(1)}}),Object(o.jsx)("form",{onSubmit:function(e){e.preventDefault();var t={id:P,name:A.name,email:A.email,role:A.role},c=Object(a.a)(n);c[n.findIndex((function(e){return e.id===P}))]=t,r(c),q("")},children:Object(o.jsxs)("table",{id:"customers",children:[Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{children:Object(o.jsx)("input",{type:"checkbox",onChange:function(e){var t=e.target.checked,c=Object(a.a)(n);r(c.map((function(e,n){return n<10*g?(e.select=t,e):e})))}})}),Object(o.jsx)("th",{children:"Name"}),Object(o.jsx)("th",{children:"Email"}),Object(o.jsx)("th",{children:"Role"}),Object(o.jsx)("th",{children:"Action"})]}),k&&k.map((function(e){return Object(o.jsx)(o.Fragment,{children:P===e.id?Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:Object(o.jsx)("input",{type:"checkbox"})}),Object(o.jsx)("td",{children:Object(o.jsx)("input",{type:"text",value:A.name,name:"name",placeholder:"enter your name",required:"required",onChange:E})}),Object(o.jsx)("td",{children:Object(o.jsx)("input",{type:"email",value:A.email,name:"email",placeholder:"enter your email",required:"required",onChange:E})}),Object(o.jsx)("td",{children:Object(o.jsx)("input",{type:"text",value:A.role,name:"role",placeholder:"enter your role",required:"required",onChange:E})}),Object(o.jsxs)("td",{children:[Object(o.jsx)("td",{children:Object(o.jsx)("button",{type:"submit",children:"Save"})}),Object(o.jsx)("td",{children:Object(o.jsx)("button",{type:"button",onClick:I,children:"Cancel"})})]})]}):Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:Object(o.jsx)("input",{type:"checkbox",onChange:function(t){var c=t.target.checked;r(n.map((function(t){return e.id===t.id&&(t.select=c),t})))},checked:e.select})}),Object(o.jsx)("td",{children:e.name}),Object(o.jsx)("td",{children:e.email}),Object(o.jsx)("td",{children:e.role}),Object(o.jsxs)("td",{children:[Object(o.jsx)("td",{children:Object(o.jsx)("button",{onClick:function(t){return function(e,t){e.preventDefault(),q(t.id);var n={name:t.name,email:t.email,role:t.role};D(n)}(t,e)},children:"Edit"})}),Object(o.jsx)("td",{children:Object(o.jsx)("button",{onClick:function(){return function(e){var t=n.filter((function(t){return t.id!==e}));r(t)}(e.id)},children:"Delete"})})]})]})})}))]})}),Object(o.jsx)("div",{className:"at-center",children:k.length>0?Object(o.jsx)(s,{total:m,itemsPerPage:10,currentPage:g,onPageChange:function(e){return C(e)}}):Object(o.jsx)("tr",{children:Object(o.jsx)("td",{children:"No Record Found"})})}),Object(o.jsx)("div",{children:k.length>1?Object(o.jsx)("button",{onClick:function(){var e=Object(a.a)(n),t=[],c=(e.map((function(e){if(e.select)return t.push(e)})),e.filter((function(e){return!t.includes(e)})));r(c)},children:"Delete All"}):""})]})}function h(){return Object(o.jsx)("div",{className:"App",children:Object(o.jsx)(b,{})})}var O=document.getElementById("root");i.a.render(Object(o.jsx)(c.StrictMode,{children:Object(o.jsx)(h,{})}),O)}},[[22,1,2]]]);
//# sourceMappingURL=main.f5e4ef7d.chunk.js.map